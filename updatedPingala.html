<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pingala Portal - Course Recommendation Evaluation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            min-height: 100vh;
        }

        .header {
            background: #eb4034;
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 1.8em;
            font-weight: 700;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .nav-bar {
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
            padding: 0 30px;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        .nav-links li {
            padding: 15px 0;
        }

        .nav-links a {
            text-decoration: none;
            color: #003087;
            font-weight: 600;
            padding: 5px 0;
            border-bottom: 3px solid transparent;
            transition: border-color 0.3s;
        }

        .nav-links a.active {
            border-bottom: 3px solid #003087;
        }

        .main-content {
            padding: 30px;
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
        }

        .section-title {
            font-size: 1.3em;
            font-weight: 700;
            color: #003087;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }

        .search-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 16px;
            outline: none;
        }

        .search-box input:focus {
            border-color: #003087;
        }

        /* Filter Panel */
        .filter-panel {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .filter-title {
            font-weight: 600;
            color: #003087;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .filter-group {
            margin-bottom: 20px;
        }

        .filter-label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #003087;
            font-size: 0.95em;
        }

        .filter-dropdown {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            background: white;
            cursor: pointer;
        }

        .filter-dropdown:focus {
            border-color: #003087;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .checkbox-item input {
            width: 16px;
            height: 16px;
        }

        /* Filter Actions */
        .filter-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-size: 0.9em;
        }

        .btn-filter {
            flex: 1;
            padding: 10px;
            font-weight: 600;
            border-radius: 6px;
            cursor: pointer;
            border: none;
            transition: all 0.3s;
        }

        .btn-apply {
            background: #003087;
            color: white;
        }

        .btn-apply:hover {
            background: #002366;
        }

        .btn-reset {
            background: #6c757d;
            color: white;
        }

        .btn-reset:hover {
            background: #545b62;
        }

        .btn-primary {
            background: #003087;
            color: white;
        }

        .btn-primary:hover {
            background: #002366;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid #003087;
            color: #003087;
        }

        .btn-outline:hover {
            background: #F0F8FF;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #545b62;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        /* Course Table */
        .course-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .course-table th {
            background: #f8f9fa;
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            color: #003087;
            border-bottom: 2px solid #e0e0e0;
        }

        .course-table td {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .course-table tr:last-child td {
            border-bottom: none;
        }

        .course-table tr:hover {
            background-color: #f8f9fa;
        }

        .course-code {
            font-weight: 700;
            color: #003087;
        }

        .course-title {
            font-weight: 600;
        }

        .course-meta {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 5px;
        }

        .course-tag {
            background: #f0f0f0;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            color: #555;
        }

        .difficulty-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75em;
            font-weight: 600;
        }

        .difficulty-beginner {
            background: #d4edda;
            color: #155724;
        }

        .difficulty-intermediate {
            background: #fff3cd;
            color: #856404;
        }

        .difficulty-advanced {
            background: #f8d7da;
            color: #721c24;
        }

        .star-rating {
            color: #ffc107;
            font-size: 1em;
        }

        .schedule-display {
            font-size: 0.85em;
            color: #666;
        }

        .course-actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        /* Recommendation Panel with Close Button */
        .recommendation-panel {
            background: #F0F8FF;
            border: 2px solid #003087;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 48, 135, 0.1);
            position: sticky;
            top: 20px;
            margin-bottom: 20px;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .panel-title {
            font-size: 1.2em;
            font-weight: 700;
            color: #003087;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            color: #666;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-btn:hover {
            background: rgba(0, 0, 0, 0.1);
        }

        .panel-subtitle {
            color: #666;
            margin-bottom: 20px;
            font-size: 0.95em;
        }

        .recommendation-list {
            list-style: none;
            margin: 0 0 20px 0;
        }

        .recommendation-item {
            padding: 12px 0;
            border-bottom: 1px solid #d1e7ff;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .recommendation-item:last-child {
            border-bottom: none;
        }

        .recommendation-info {
            flex: 1;
        }

        .recommendation-name {
            font-weight: 600;
            color: #003087;
            display: block;
        }

        .recommendation-fullname {
            font-size: 0.9em;
            color: #555;
            display: block;
            margin-top: 2px;
        }

        .recommendation-credits {
            background: #003087;
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .view-all-btn {
            background: #003087;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            width: 100%;
            transition: background-color 0.3s;
            text-align: center;
            display: block;
            text-decoration: none;
        }

        .view-all-btn:hover {
            background: #002366;
        }

        /* Cart Sidebar */
        .cart-sidebar {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 20px;
        }

        .cart-title {
            font-size: 1.2em;
            font-weight: 700;
            color: #003087;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .cart-items {
            margin-bottom: 20px;
            max-height: 300px;
            overflow-y: auto;
        }

        .cart-item {
            background: white;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 10px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-code {
            font-weight: 600;
            color: #003087;
            font-size: 0.95em;
        }

        .cart-item-title {
            font-size: 0.85em;
            color: #555;
            margin-top: 2px;
        }

        .cart-item-credits {
            background: #003087;
            color: white;
            padding: 3px 6px;
            border-radius: 8px;
            font-size: 0.75em;
            font-weight: 600;
        }

        .remove-btn {
            background: none;
            border: none;
            color: #dc3545;
            cursor: pointer;
            font-size: 1.1em;
            margin-left: 8px;
            padding: 4px;
            border-radius: 4px;
        }

        .remove-btn:hover {
            background: rgba(220, 53, 69, 0.1);
        }

        .cart-summary {
            border-top: 1px solid #e0e0e0;
            padding-top: 15px;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        .summary-total {
            font-weight: 700;
            color: #003087;
            border-top: 1px solid #e0e0e0;
            padding-top: 8px;
            margin-top: 8px;
        }

        .cart-actions {
            margin-top: 15px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .btn-full {
            width: 100%;
            justify-content: center;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 12px 20px;
            border-radius: 6px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1000;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .toast-icon {
            font-size: 1.2em;
        }

        .toast-content {
            flex: 1;
        }

        .toast-title {
            font-weight: 600;
            margin-bottom: 3px;
            font-size: 0.95em;
        }

        .toast-message {
            font-size: 0.85em;
        }

        .toast-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.1em;
            cursor: pointer;
            padding: 4px;
        }

        /* Utility Classes */
        .hidden {
            display: none;
        }

        .text-center {
            text-align: center;
        }

        .mt-20 {
            margin-top: 20px;
        }

        .mb-20 {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Pingala Portal - IIT Kanpur</h1>
            <div class="user-info">
                <span>Welcome, Student</span>
                <span>|</span>
                <span>Logout</span>
            </div>
        </div>

        <!-- Navigation -->
        <div class="nav-bar">
            <ul class="nav-links">
                <li><a href="#" class="active">Student Add & Drop Application</a></li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Left Column: Course Catalog and Results -->
            <div>
                <!-- Search and Filters -->
                <div class="search-box">
                    <input type="text" placeholder="Search courses by name, code, or professor...">
                </div>

                <div class="filter-panel">
                    <h3 class="filter-title">Filter Courses</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="filter-group">
                            <label class="filter-label">Department</label>
                            <select class="filter-dropdown" id="department-filter">
                                <option value="">All Departments</option>
                                <option value="cs">Computer Science</option>
                                <option value="math">Mathematics</option>
                                <option value="ee">Electrical Engineering</option>
                                <option value="me">Mechanical Engineering</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label class="filter-label">Credits</label>
                            <select class="filter-dropdown" id="credits-filter">
                                <option value="">Any Credits</option>
                                <option value="1-4">1-4 Credits</option>
                                <option value="5-8">5-8 Credits</option>
                                <option value="9-12">9-12 Credits</option>
                            </select>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="filter-group">
                            <label class="filter-label">Difficulty Level</label>
                            <select class="filter-dropdown" id="difficulty-filter">
                                <option value="">Any Difficulty</option>
                                <option value="beginner">Beginner</option>
                                <option value="intermediate">Intermediate</option>
                                <option value="advanced">Advanced</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label class="filter-label">Professor Rating</label>
                            <select class="filter-dropdown" id="rating-filter">
                                <option value="">Any Rating</option>
                                <option value="4.5">4.5+ Stars</option>
                                <option value="4.0">4.0+ Stars</option>
                                <option value="3.5">3.5+ Stars</option>
                            </select>
                        </div>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Additional Filters</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="core-courses" name="course-type">
                                <label for="core-courses">Core Courses Only</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="no-prerequisites" name="prerequisites">
                                <label for="no-prerequisites">No Prerequisites Required</label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Apply and Reset Filters Buttons -->
                    <div class="filter-actions">
                        <button class="btn-filter btn-apply" id="apply-filters-btn">Apply Filters</button>
                        <button class="btn-filter btn-reset" id="reset-filters-btn">Reset Filters</button>
                    </div>
                </div>

                <!-- Course Results -->
                <h2 class="section-title">Available Courses</h2>
                
                <table class="course-table">
                    <thead>
                        <tr>
                            <th>Course</th>
                            <th>Details</th>
                            <th>Professor & Rating</th>
                            <th>Schedule</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-department="cs" data-credits="9" data-type="elective" data-rating="4.8" data-difficulty="advanced">
                            <td>
                                <div class="course-code">CS455</div>
                                <div class="course-title">Machine Learning Systems</div>
                                <div class="course-meta">
                                    <span class="course-tag">Elective</span>
                                    <span class="difficulty-badge difficulty-advanced">Advanced</span>
                                </div>
                            </td>
                            <td>
                                <div>9 Credits</div>
                                <div class="course-meta">
                                    <span class="course-tag">Prerequisite Completed</span>
                                </div>
                            </td>
                            <td>
                                <div>Dr. Sharma</div>
                                <div class="star-rating">â˜…â˜…â˜…â˜…â˜…</div>
                                <div style="font-size: 0.8em; color: #666;">4.8/5.0</div>
                            </td>
                            <td>
                                <div class="schedule-display">
                                    <div>Mon: 10:00-11:30</div>
                                    <div>Wed: 10:00-11:30</div>
                                </div>
                            </td>
                            <td>
                                <div class="course-actions">
                                    <button class="btn btn-primary add-to-cart-btn" data-course="CS455" data-title="Machine Learning Systems" data-credits="9">
                                        Add to Cart
                                    </button>
                                    <button class="btn btn-outline show-details-btn" data-course="CS455">
                                        Details
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr data-department="math" data-credits="9" data-type="core" data-rating="4.5" data-difficulty="intermediate">
                            <td>
                                <div class="course-code">MATH301</div>
                                <div class="course-title">Advanced Calculus</div>
                                <div class="course-meta">
                                    <span class="course-tag">Core</span>
                                    <span class="difficulty-badge difficulty-intermediate">Intermediate</span>
                                </div>
                            </td>
                            <td>
                                <div>9 Credits</div>
                                <div class="course-meta">
                                    <span class="course-tag">Required Course</span>
                                </div>
                            </td>
                            <td>
                                <div>Dr. Kumar</div>
                                <div class="star-rating">â˜…â˜…â˜…â˜…â˜†</div>
                                <div style="font-size: 0.8em; color: #666;">4.5/5.0</div>
                            </td>
                            <td>
                                <div class="schedule-display">
                                    <div>Tue: 14:00-15:30</div>
                                    <div>Thu: 14:00-15:30</div>
                                </div>
                            </td>
                            <td>
                                <div class="course-actions">
                                    <button class="btn btn-primary add-to-cart-btn" data-course="MATH301" data-title="Advanced Calculus" data-credits="9">
                                        Add to Cart
                                    </button>
                                    <button class="btn btn-outline show-details-btn" data-course="MATH301">
                                        Details
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr data-department="ee" data-credits="8" data-type="core" data-rating="4.2" data-difficulty="intermediate">
                            <td>
                                <div class="course-code">EE201</div>
                                <div class="course-title">Circuit Analysis</div>
                                <div class="course-meta">
                                    <span class="course-tag">Core</span>
                                    <span class="difficulty-badge difficulty-intermediate">Intermediate</span>
                                </div>
                            </td>
                            <td>
                                <div>8 Credits</div>
                                <div class="course-meta">
                                    <span class="course-tag">Required Course</span>
                                </div>
                            </td>
                            <td>
                                <div>Dr. Patel</div>
                                <div class="star-rating">â˜…â˜…â˜…â˜…â˜†</div>
                                <div style="font-size: 0.8em; color: #666;">4.2/5.0</div>
                            </td>
                            <td>
                                <div class="schedule-display">
                                    <div>Mon: 09:00-10:30</div>
                                    <div>Wed: 09:00-10:30</div>
                                    <div>Fri: 09:00-10:30</div>
                                </div>
                            </td>
                            <td>
                                <div class="course-actions">
                                    <button class="btn btn-primary add-to-cart-btn" data-course="EE201" data-title="Circuit Analysis" data-credits="8">
                                        Add to Cart
                                    </button>
                                    <button class="btn btn-outline show-details-btn" data-course="EE201">
                                        Details
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr data-department="cs" data-credits="6" data-type="elective" data-rating="4.7" data-difficulty="beginner">
                            <td>
                                <div class="course-code">CS315</div>
                                <div class="course-title">Web Development</div>
                                <div class="course-meta">
                                    <span class="course-tag">Elective</span>
                                    <span class="difficulty-badge difficulty-beginner">Beginner</span>
                                </div>
                            </td>
                            <td>
                                <div>6 Credits</div>
                                <div class="course-meta">
                                    <span class="course-tag">Web Development Track</span>
                                </div>
                            </td>
                            <td>
                                <div>Dr. Gupta</div>
                                <div class="star-rating">â˜…â˜…â˜…â˜…â˜…</div>
                                <div style="font-size: 0.8em; color: #666;">4.7/5.0</div>
                            </td>
                            <td>
                                <div class="schedule-display">
                                    <div>Tue: 11:00-12:30</div>
                                    <div>Thu: 11:00-12:30</div>
                                </div>
                            </td>
                            <td>
                                <div class="course-actions">
                                    <button class="btn btn-primary add-to-cart-btn" data-course="CS315" data-title="Web Development" data-credits="6">
                                        Add to Cart
                                    </button>
                                    <button class="btn btn-outline show-details-btn" data-course="CS315">
                                        Details
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Right Column: Recommendations and Cart -->
            <div>
                <!-- Recommendations Panel with Close Button -->
                <div class="recommendation-panel" id="recommendation-panel">
                    <div class="panel-header">
                        <div class="panel-title">âœ¨ Recommended For You</div>
                        <button class="close-btn" id="close-recommendations">Ã—</button>
                    </div>
                    <div class="panel-subtitle">
                        Based on your academic history and interests
                    </div>
                    <ul class="recommendation-list">
                        <li class="recommendation-item">
                            <div class="recommendation-info">
                                <span class="recommendation-name">CS455 - Machine Learning</span>
                                <span class="recommendation-fullname">Artificial Intelligence Track</span>
                            </div>
                            <span class="recommendation-credits">9 Cr</span>
                        </li>
                        <li class="recommendation-item">
                            <div class="recommendation-info">
                                <span class="recommendation-name">MATH301 - Advanced Calculus</span>
                                <span class="recommendation-fullname">Mathematical Foundations</span>
                            </div>
                            <span class="recommendation-credits">9 Cr</span>
                        </li>
                        <li class="recommendation-item">
                            <div class="recommendation-info">
                                <span class="recommendation-name">EE201 - Circuit Analysis</span>
                                <span class="recommendation-fullname">Electrical Systems</span>
                            </div>
                            <span class="recommendation-credits">8 Cr</span>
                        </li>
                    </ul>
                    <button class="view-all-btn" id="view-all-recommendations">
                        View All Recommendations
                    </button>
                </div>

                <!-- Cart Sidebar -->
                <div class="cart-sidebar">
                    <h2 class="cart-title">
                        ðŸ›’ Your Course Cart
                    </h2>
                    
                    <div class="cart-items" id="cart-items">
                        <div class="cart-item">
                            <div class="cart-item-info">
                                <div class="cart-item-code">CS201</div>
                                <div class="cart-item-title">Data Structures</div>
                            </div>
                            <div class="cart-item-credits">8 Cr</div>
                            <button class="remove-btn">Ã—</button>
                        </div>
                    </div>
                    
                    <div class="cart-summary">
                        <div class="summary-row">
                            <span>Total Courses:</span>
                            <span id="cart-count">1</span>
                        </div>
                        <div class="summary-row">
                            <span>Total Credits:</span>
                            <span id="total-credits">8</span>
                        </div>
                        <div class="summary-row summary-total">
                            <span>Credits Remaining:</span>
                            <span id="credits-remaining">34 of 42</span>
                        </div>
                    </div>
                    
                    <div class="cart-actions">
                        <button class="btn btn-success btn-full" id="review-cart-btn">
                            Review & Register
                        </button>
                        <button class="btn btn-outline btn-full">
                            Save for Later
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
        <div class="toast" id="toast-notification">
            <div class="toast-icon">âœ…</div>
            <div class="toast-content">
                <div class="toast-title">Course Added to Cart</div>
                <div class="toast-message">Course has been added to your cart</div>
            </div>
            <button class="toast-close">Ã—</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Cart state
            let cartItems = [
                { code: 'CS201', title: 'Data Structures', credits: 8 }
            ];
            const maxCredits = 42;

            // Update cart display
            function updateCartDisplay() {
                const cartItemsContainer = document.getElementById('cart-items');
                const cartCount = document.getElementById('cart-count');
                const totalCredits = document.getElementById('total-credits');
                const creditsRemaining = document.getElementById('credits-remaining');
                
                // Calculate totals
                const currentCredits = cartItems.reduce((sum, item) => sum + item.credits, 0);
                const remaining = maxCredits - currentCredits;
                
                // Update displays
                cartCount.textContent = cartItems.length;
                totalCredits.textContent = currentCredits;
                creditsRemaining.textContent = `${remaining} of ${maxCredits}`;
                
                // Update cart items
                cartItemsContainer.innerHTML = '';
                cartItems.forEach((item, index) => {
                    const cartItem = document.createElement('div');
                    cartItem.className = 'cart-item';
                    cartItem.innerHTML = `
                        <div class="cart-item-info">
                            <div class="cart-item-code">${item.code}</div>
                            <div class="cart-item-title">${item.title}</div>
                        </div>
                        <div class="cart-item-credits">${item.credits} Cr</div>
                        <button class="remove-btn" data-index="${index}">Ã—</button>
                    `;
                    cartItemsContainer.appendChild(cartItem);
                });
                
                // Add event listeners to remove buttons
                document.querySelectorAll('.remove-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        cartItems.splice(index, 1);
                        updateCartDisplay();
                        showToast('Course removed from cart', 'info');
                    });
                });
            }

            // Show toast notification
            function showToast(message, type = 'success') {
                const toast = document.getElementById('toast-notification');
                const toastTitle = toast.querySelector('.toast-title');
                const toastMessage = toast.querySelector('.toast-message');
                const toastIcon = toast.querySelector('.toast-icon');
                
                // Set content based on type
                if (type === 'success') {
                    toast.style.background = '#28a745';
                    toastIcon.textContent = 'âœ…';
                    toastTitle.textContent = 'Course Added to Cart';
                } else if (type === 'info') {
                    toast.style.background = '#17a2b8';
                    toastIcon.textContent = 'â„¹ï¸';
                    toastTitle.textContent = 'Course Removed';
                } else if (type === 'warning') {
                    toast.style.background = '#ffc107';
                    toastIcon.textContent = 'âš ï¸';
                    toastTitle.textContent = 'Schedule Conflict';
                }
                
                toastMessage.textContent = message;
                
                // Show toast
                toast.classList.add('show');
                
                // Auto-hide after 4 seconds
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 4000);
            }

            // Apply filters functionality
            function applyFilters() {
                const departmentFilter = document.getElementById('department-filter').value;
                const creditsFilter = document.getElementById('credits-filter').value;
                const difficultyFilter = document.getElementById('difficulty-filter').value;
                const ratingFilter = document.getElementById('rating-filter').value;
                const coreCourses = document.getElementById('core-courses').checked;
                const noPrerequisites = document.getElementById('no-prerequisites').checked;
                
                // Get all course rows
                const courseRows = document.querySelectorAll('.course-table tbody tr');
                
                // Filter courses
                courseRows.forEach(row => {
                    let showRow = true;
                    
                    // Department filter
                    if (departmentFilter && row.dataset.department !== departmentFilter) {
                        showRow = false;
                    }
                    
                    // Credits filter
                    if (creditsFilter && row.dataset.credits) {
                        const credits = parseInt(row.dataset.credits);
                        if (creditsFilter === '1-4' && (credits < 1 || credits > 4)) {
                            showRow = false;
                        } else if (creditsFilter === '5-8' && (credits < 5 || credits > 8)) {
                            showRow = false;
                        } else if (creditsFilter === '9-12' && (credits < 9 || credits > 12)) {
                            showRow = false;
                        }
                    }
                    
                    // Difficulty filter
                    if (difficultyFilter && row.dataset.difficulty !== difficultyFilter) {
                        showRow = false;
                    }
                    
                    // Rating filter
                    if (ratingFilter && row.dataset.rating) {
                        const rating = parseFloat(row.dataset.rating);
                        const minRating = parseFloat(ratingFilter);
                        if (rating < minRating) {
                            showRow = false;
                        }
                    }
                    
                    // Core courses filter
                    if (coreCourses && row.dataset.type !== 'core') {
                        showRow = false;
                    }
                    
                    // No prerequisites filter (simplified - in reality would check actual prerequisites)
                    if (noPrerequisites && row.querySelector('.course-meta').textContent.includes('Prerequisite')) {
                        showRow = false;
                    }
                    
                    // Show or hide row based on filters
                    if (showRow) {
                        row.style.display = 'table-row';
                    } else {
                        row.style.display = 'none';
                    }
                });
                
                // Show feedback
                showToast('Filters applied successfully', 'info');
            }

            // Reset filters functionality
            function resetFilters() {
                // Reset form inputs
                document.getElementById('department-filter').value = '';
                document.getElementById('credits-filter').value = '';
                document.getElementById('difficulty-filter').value = '';
                document.getElementById('rating-filter').value = '';
                document.getElementById('core-courses').checked = false;
                document.getElementById('no-prerequisites').checked = false;
                
                // Show all course rows
                const courseRows = document.querySelectorAll('.course-table tbody tr');
                courseRows.forEach(row => {
                    row.style.display = 'table-row';
                });
                
                // Show feedback
                showToast('Filters reset successfully', 'info');
            }

            // Add to cart functionality
            document.querySelectorAll('.add-to-cart-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const courseCode = this.getAttribute('data-course');
                    const courseTitle = this.getAttribute('data-title');
                    const credits = parseInt(this.getAttribute('data-credits'));
                    
                    // Check if already in cart
                    if (cartItems.some(item => item.code === courseCode)) {
                        showToast(`${courseCode} is already in your cart`, 'info');
                        return;
                    }
                    
                    // Calculate if adding would exceed credit limit
                    const currentCredits = cartItems.reduce((sum, item) => sum + item.credits, 0);
                    if (currentCredits + credits > maxCredits) {
                        showToast('Adding this course would exceed your credit limit', 'info');
                        return;
                    }
                    
                    // Add to cart
                    cartItems.push({
                        code: courseCode,
                        title: courseTitle,
                        credits: credits
                    });
                    
                    updateCartDisplay();
                    showToast(`${courseCode} - ${courseTitle} added to cart`);
                    
                    // Update button state
                    this.innerHTML = 'Added to Cart';
                    this.classList.remove('btn-primary');
                    this.classList.add('btn-success');
                    this.disabled = true;
                });
            });

            // Show course details
            document.querySelectorAll('.show-details-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const courseCode = this.getAttribute('data-course');
                    alert(`Detailed information for ${courseCode} would appear here in a full implementation.`);
                });
            });

            // View all recommendations
            document.getElementById('view-all-recommendations').addEventListener('click', function() {
                alert('In a full implementation, this would show all personalized recommendations with advanced filtering options.');
            });

            // Close recommendations panel
            document.getElementById('close-recommendations').addEventListener('click', function() {
                document.getElementById('recommendation-panel').style.display = 'none';
                showToast('Recommendations panel closed', 'info');
            });

            // Review cart
            document.getElementById('review-cart-btn').addEventListener('click', function() {
                if (cartItems.length === 0) {
                    alert('Your cart is empty. Add some courses first.');
                    return;
                }
                alert(`In a full implementation, this would proceed to registration review with ${cartItems.length} courses totaling ${cartItems.reduce((sum, item) => sum + item.credits, 0)} credits.`);
            });

            // Toast close button
            document.querySelector('.toast-close').addEventListener('click', function() {
                document.getElementById('toast-notification').classList.remove('show');
            });

            // Apply filters button
            document.getElementById('apply-filters-btn').addEventListener('click', applyFilters);

            // Reset filters button
            document.getElementById('reset-filters-btn').addEventListener('click', resetFilters);

            // Initialize displays
            updateCartDisplay();
        });
    </script>
</body>
</html>
